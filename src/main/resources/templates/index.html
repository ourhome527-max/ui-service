<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta charset="utf-8" />
	<link rel="stylesheet" href="/css/global.css">
	<link rel="stylesheet" href="/css/style.css">
</head>

<body>
	<div class="index">
		<div class="frame-box">

			<div class="search-box"></div>

			<div class="div">
				<div th:if="${session.loginUser == null}">
					<button type="button" class="login-btn" onclick="location.href='/user'">로그인</button>
				</div>

				<div class="user-profile-wrapper" th:if="${session.loginUser != null}">
					<div class="user-profile-box">
						<div class="profile-pic"></div>
						<div class="user-info">
							<span class="user-id" th:text="${session.loginUser.memberId} + '님'">userId님</span>
							<span class="user-email">test1234@test.com</span>
						</div>
						<button type="button" class="logout-btn-small"
							onclick="location.href='/user/logout'">로그아웃</button>
					</div>
				</div>
			</div>

			<div class="login-box"></div>

			<!-- 게시글 목록 -->
			<div class="article-list-box">

				<div class="article-list-header">
					<h2 class="text-wrapper">글 목록</h2>

					<a href="/article/regist" class="write-btn">글 작성</a>
				</div>

				<div class="article-list">

					<div th:if="${articleList == null or articleList.isEmpty()}">
						<p>게시글이 없습니다.</p>
					</div>

					<!-- 수정된 article-item -->
					<a href="#" class="article-item" th:each="article : ${articleList}"
						th:unless="${articleList == null or articleList.isEmpty()}">

						<div class="article-image"></div>

						<div class="article-content">
							<h3 class="article-title" th:text="${article.title}">가짜 제목</h3>

							<!-- 작성일 / 작성자 표시 -->
							<span class="article-info"
								th:text="${article.regAt + ' / ' + article.writerId}">
								2024-01-01 13:00 / writer
							</span>
						</div>

						<!-- 추천수 기능 없으므로 제거 또는 기본 표시 -->
						<div class="article-recs">
							<span>[0]</span>
						</div>

					</a>
				</div>

			</div>
		</div>
	</div>
</body>

</html>