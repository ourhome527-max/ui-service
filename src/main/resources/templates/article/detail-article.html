<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<link rel="stylesheet" href="/css/style.css" />
	<title>게시글 상세</title>
</head>

<body>
	<div class="detail-container">

		<h2 class="detail-title" th:text="${article.title}">제목</h2>

		<div class="detail-info">
			<!-- 작성자, 날짜 등 -->
			<span th:text="'작성자: ' + ${article.writerId}"></span>
			<span th:text="'작성일: ' + ${article.regAt}"></span>
		</div>

		<div class="detail-content">
			<!-- 1. 텍스트 내용 출력 -->
			<p th:text="${article.content}"></p>
			<br>

			<!-- 2. 첨부파일(이미지) 반복 출력 -->
			<!-- article.files가 비어있지 않다면 실행 -->
			<div th:if="${article.fileList != null and !article.fileList.isEmpty()}">
				<div th:each="file : ${article.fileList}">

					<!-- 요청하신 대로 DTO에 저장된 path를 src에 바로 사용 -->
					<img th:src="${file.path}" style="max-width: 500px; display: block; margin: 10px 0;"
						th:alt="${file.originalName}" />

				</div>
			</div>

			<!-- 3. 파일이 없을 경우 메시지 출력 (추가된 부분) -->
			<div th:if="${article.fileList == null or article.fileList.isEmpty()}">
				<p style="color: #999; font-style: italic;">파일이 없습니다.</p>
			</div>
		</div>

		<a href="/" class="btn-back">목록으로</a>
	</div>
</body>

</html>